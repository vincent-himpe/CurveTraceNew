Operation:


sweep = 1

do
  if rotatry left
     if markerposition >0 then markerposition = marketerposition -1
  if rotatry left
     markerposition = marketerposiotn +1
     if markerposition >markermax then markerposition = markermax
  if sweep = currentsweep
     if sendmarker = 1
        marker = 1
        enablemaker =1
        marker = 0
        enablemarker=0
        read 4 adc's
        hold=0





  sweep = sweep +1
  if sweep >5 then sweep = 1
forever

on interrupt sweepstarting
   reload timer with markerposition

on interrupt timer
   sendmarker =1
   hold=1
